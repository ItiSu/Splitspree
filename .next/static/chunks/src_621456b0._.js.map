{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/itiza/Desktop/SplitSpree/src/components/ui/splitspree-logo.tsx"],"sourcesContent":["\"use client\";\n\nimport React from 'react';\nimport { Receipt, Sparkles } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\ninterface SplitspreeLogoProps {\n  className?: string;\n  size?: \"sm\" | \"md\" | \"lg\";\n}\n\nexport const SplitspreeLogo = ({ \n  className,\n  size = \"md\"\n}: SplitspreeLogoProps) => {\n  const iconSize = {\n    sm: { main: 16, sparkle: 12 },\n    md: { main: 24, sparkle: 16 }, \n    lg: { main: 32, sparkle: 20 }\n  };\n\n  return (\n    <div className={cn(\"relative\", className)}>\n      <Receipt \n        className={cn(\n          \"text-primary\",\n          size === \"sm\" && \"h-4 w-4\",\n          size === \"md\" && \"h-6 w-6\",\n          size === \"lg\" && \"h-8 w-8\"\n        )} \n      />\n      <Sparkles \n        className={cn(\n          \"text-yellow-500 absolute -top-1 -right-1 animate-pulse\",\n          size === \"sm\" && \"h-3 w-3\",\n          size === \"md\" && \"h-4 w-4\",\n          size === \"lg\" && \"h-5 w-5\"\n        )}\n      />\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;AAGA;AAAA;AACA;AAJA;;;;AAWO,MAAM,iBAAiB,CAAC,EAC7B,SAAS,EACT,OAAO,IAAI,EACS;IACpB,MAAM,WAAW;QACf,IAAI;YAAE,MAAM;YAAI,SAAS;QAAG;QAC5B,IAAI;YAAE,MAAM;YAAI,SAAS;QAAG;QAC5B,IAAI;YAAE,MAAM;YAAI,SAAS;QAAG;IAC9B;IAEA,qBACE,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;;0BAC7B,6LAAC,2MAAA,CAAA,UAAO;gBACN,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,gBACA,SAAS,QAAQ,WACjB,SAAS,QAAQ,WACjB,SAAS,QAAQ;;;;;;0BAGrB,6LAAC,6MAAA,CAAA,WAAQ;gBACP,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0DACA,SAAS,QAAQ,WACjB,SAAS,QAAQ,WACjB,SAAS,QAAQ;;;;;;;;;;;;AAK3B;KA9Ba","debugId":null}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/itiza/Desktop/SplitSpree/src/components/app-header.tsx"],"sourcesContent":["\"use client\"\nimport React from 'react';\nimport Link from 'next/link';\nimport { SplitspreeLogo } from '@/components/ui/splitspree-logo';\n\nconst AppHeader = () => {\n  return (\n    <header className=\"flex items-center justify-between p-4 border-b sticky top-0 bg-background/95 backdrop-blur-sm z-10 h-16\">\n      <Link href=\"/\" className=\"flex items-center gap-2\">\n        <SplitspreeLogo size=\"sm\" className=\"w-6 h-6\" />\n        <h1 className=\"text-xl font-headline font-bold text-foreground\">\n          SplitSpree\n        </h1>\n      </Link>\n    </header>\n  );\n};\n\nexport default AppHeader;\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAKA,MAAM,YAAY;IAChB,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC,+JAAA,CAAA,UAAI;YAAC,MAAK;YAAI,WAAU;;8BACvB,6LAAC,iJAAA,CAAA,iBAAc;oBAAC,MAAK;oBAAK,WAAU;;;;;;8BACpC,6LAAC;oBAAG,WAAU;8BAAkD;;;;;;;;;;;;;;;;;AAMxE;KAXM;uCAaS","debugId":null}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/itiza/Desktop/SplitSpree/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC3B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/itiza/Desktop/SplitSpree/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 230, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/itiza/Desktop/SplitSpree/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 333, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/itiza/Desktop/SplitSpree/src/components/user-setup.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from 'react';\nimport { useAppDispatch } from '@/lib/store/context';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Input } from './ui/input';\nimport { Button } from './ui/button';\nimport { Plus, User, ArrowRight, Trash2, Receipt, Sparkles } from 'lucide-react';\nimport { Card, CardHeader, CardTitle, CardContent, CardFooter, CardDescription } from './ui/card';\n\nconst UserSetup = () => {\n  const [name, setName] = useState('');\n  const [users, setUsers] = useState<string[]>([]);\n  const dispatch = useAppDispatch();\n\n  const handleAddUser = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (name.trim() && !users.includes(name.trim())) {\n      setUsers([...users, name.trim()]);\n      setName('');\n    }\n  };\n  \n  const handleRemoveUser = (nameToRemove: string) => {\n    setUsers(users.filter(user => user !== nameToRemove));\n  }\n\n  const handleFinishSetup = () => {\n    users.forEach(userName => {\n      dispatch({\n        type: 'ADD_USER',\n        payload: { id: uuidv4(), name: userName },\n      });\n    });\n  };\n\n  return (\n    <Card className=\"w-full max-w-md shadow-2xl border-border/50 bg-card/50 backdrop-blur-sm mx-auto my-8\">\n        <CardHeader className=\"text-center p-8\">\n          <div className=\"flex justify-center mb-4\">\n            <div className=\"relative\">\n              <Receipt className=\"h-12 w-12 text-primary\" />\n              <Sparkles className=\"h-5 w-5 text-yellow-500 absolute -top-1 -right-1 animate-pulse\" />\n            </div>\n          </div>\n          <CardTitle className=\"text-3xl font-headline font-bold bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent\">\n            SplitSpree\n          </CardTitle>\n          <CardDescription className=\"text-muted-foreground pt-2 text-lg\">\n            Add people to your group to start splitting bills\n          </CardDescription>\n        </CardHeader>\n      <CardContent className=\"p-8 pt-0\">\n        <form onSubmit={handleAddUser} className=\"flex gap-2 mb-6 animate-in fade-in zoom-in-95\">\n          <Input\n            type=\"text\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            placeholder=\"Enter a name...\"\n            className=\"flex-grow h-12 text-base border-border/70 focus-visible:ring-primary/50\"\n          />\n          <Button \n            type=\"submit\" \n            size=\"lg\" \n            className=\"px-4 h-12 bg-primary/90 hover:bg-primary transition-all\" \n            disabled={!name.trim()}\n          >\n            <Plus className=\"w-5 h-5\" />\n            <span className=\"sr-only\">Add User</span>\n          </Button>\n        </form>\n\n        <div className=\"space-y-2 min-h-[60px]\">\n          {users.map((user, index) => (\n            <div \n              key={index} \n              className=\"flex items-center justify-between bg-card/70 p-3 rounded-lg border border-border/50 animate-in fade-in slide-in-from-bottom-3\"\n            >\n              <div className=\"flex items-center gap-3\">\n                <User className=\"w-5 h-5 text-primary\" />\n                <span className=\"font-medium\">{user}</span>\n              </div>\n              <Button \n                variant=\"ghost\" \n                size=\"icon\" \n                className=\"h-8 w-8 text-muted-foreground hover:text-destructive transition-colors\"\n                onClick={() => handleRemoveUser(user)}\n              >\n                <Trash2 className=\"w-4 h-4\" />\n              </Button>\n            </div>\n          ))}\n        </div>\n      </CardContent>\n\n      <CardFooter className=\"p-8 pt-0\">\n        <Button \n          onClick={handleFinishSetup} \n          className=\"w-full h-14 text-lg font-semibold shadow-2xl hover:shadow-3xl transition-all duration-300 animate-in fade-in zoom-in-95\"\n          disabled={users.length === 0}\n        >\n          Start Splitting <ArrowRight className=\"ml-3 h-6 w-6\" />\n        </Button>\n      </CardFooter>\n    </Card>\n  );\n};\n\nexport default UserSetup;\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;AARA;;;;;;;;AAUA,MAAM,YAAY;;IAChB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IAC/C,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,iBAAc,AAAD;IAE9B,MAAM,gBAAgB,CAAC;QACrB,EAAE,cAAc;QAChB,IAAI,KAAK,IAAI,MAAM,CAAC,MAAM,QAAQ,CAAC,KAAK,IAAI,KAAK;YAC/C,SAAS;mBAAI;gBAAO,KAAK,IAAI;aAAG;YAChC,QAAQ;QACV;IACF;IAEA,MAAM,mBAAmB,CAAC;QACxB,SAAS,MAAM,MAAM,CAAC,CAAA,OAAQ,SAAS;IACzC;IAEA,MAAM,oBAAoB;QACxB,MAAM,OAAO,CAAC,CAAA;YACZ,SAAS;gBACP,MAAM;gBACN,SAAS;oBAAE,IAAI,CAAA,GAAA,wLAAA,CAAA,KAAM,AAAD;oBAAK,MAAM;gBAAS;YAC1C;QACF;IACF;IAEA,qBACE,6LAAC,mIAAA,CAAA,OAAI;QAAC,WAAU;;0BACZ,6LAAC,mIAAA,CAAA,aAAU;gBAAC,WAAU;;kCACpB,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,2MAAA,CAAA,UAAO;oCAAC,WAAU;;;;;;8CACnB,6LAAC,6MAAA,CAAA,WAAQ;oCAAC,WAAU;;;;;;;;;;;;;;;;;kCAGxB,6LAAC,mIAAA,CAAA,YAAS;wBAAC,WAAU;kCAAmH;;;;;;kCAGxI,6LAAC,mIAAA,CAAA,kBAAe;wBAAC,WAAU;kCAAqC;;;;;;;;;;;;0BAIpE,6LAAC,mIAAA,CAAA,cAAW;gBAAC,WAAU;;kCACrB,6LAAC;wBAAK,UAAU;wBAAe,WAAU;;0CACvC,6LAAC,oIAAA,CAAA,QAAK;gCACJ,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;gCACvC,aAAY;gCACZ,WAAU;;;;;;0CAEZ,6LAAC,qIAAA,CAAA,SAAM;gCACL,MAAK;gCACL,MAAK;gCACL,WAAU;gCACV,UAAU,CAAC,KAAK,IAAI;;kDAEpB,6LAAC,qMAAA,CAAA,OAAI;wCAAC,WAAU;;;;;;kDAChB,6LAAC;wCAAK,WAAU;kDAAU;;;;;;;;;;;;;;;;;;kCAI9B,6LAAC;wBAAI,WAAU;kCACZ,MAAM,GAAG,CAAC,CAAC,MAAM,sBAChB,6LAAC;gCAEC,WAAU;;kDAEV,6LAAC;wCAAI,WAAU;;0DACb,6LAAC,qMAAA,CAAA,OAAI;gDAAC,WAAU;;;;;;0DAChB,6LAAC;gDAAK,WAAU;0DAAe;;;;;;;;;;;;kDAEjC,6LAAC,qIAAA,CAAA,SAAM;wCACL,SAAQ;wCACR,MAAK;wCACL,WAAU;wCACV,SAAS,IAAM,iBAAiB;kDAEhC,cAAA,6LAAC,6MAAA,CAAA,SAAM;4CAAC,WAAU;;;;;;;;;;;;+BAbf;;;;;;;;;;;;;;;;0BAoBb,6LAAC,mIAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,6LAAC,qIAAA,CAAA,SAAM;oBACL,SAAS;oBACT,WAAU;oBACV,UAAU,MAAM,MAAM,KAAK;;wBAC5B;sCACiB,6LAAC,qNAAA,CAAA,aAAU;4BAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;AAKhD;GAhGM;;QAGa,kIAAA,CAAA,iBAAc;;;KAH3B;uCAkGS","debugId":null}},
    {"offset": {"line": 611, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/itiza/Desktop/SplitSpree/src/ai/flows/parse-receipt.ts"],"sourcesContent":["// src/ai/flows/parse-receipt.ts\n'use server';\n\n/**\n * @fileOverview This file defines a Genkit flow for parsing receipt images and extracting data.\n *\n * - parseReceipt - A function that takes a receipt image as input and returns the extracted data.\n * - ParseReceiptInput - The input type for the parseReceipt function.\n * - ParseReceiptOutput - The return type for the parseReceipt function.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\n\nconst ParseReceiptInputSchema = z.object({\n  receiptDataUri: z\n    .string()\n    .describe(\n      \"A receipt image, as a data URI that must include a MIME type and use Base64 encoding. Expected format: 'data:<mimetype>;base64,<encoded_data>'.\"\n    ),\n});\nexport type ParseReceiptInput = z.infer<typeof ParseReceiptInputSchema>;\n\nconst ParseReceiptOutputSchema = z.object({\n  storeName: z.string().describe('The name of the store.'),\n  date: z.string().describe('The date on the receipt.'),\n  items: z\n    .array(\n      z.object({\n        name: z.string().describe('The name of the item.'),\n        price: z.number().describe('The total price of the item, accounting for quantity.'),\n        description: z.string().describe('A clarified, common name for the item. If the item has quantity/unit details, include them. E.g., \"Snack Bars ($1.50 each x 3)\" or \"Avocados ($0.99 per lb x 2.5)\".'),\n      })\n    )\n    .describe('A list of items on the receipt.'),\n  subtotal: z.number().describe('The subtotal of the receipt.'),\n  tax: z.number().describe('The tax amount on the receipt.'),\n  tip: z.number().describe('The tip amount on the receipt.'),\n  total: z.number().describe('The total amount on the receipt.'),\n});\nexport type ParseReceiptOutput = z.infer<typeof ParseReceiptOutputSchema>;\n\nexport async function parseReceipt(input: ParseReceiptInput): Promise<ParseReceiptOutput> {\n  return parseReceiptFlow(input);\n}\n\nconst parseReceiptPrompt = ai.definePrompt({\n  name: 'parseReceiptPrompt',\n  input: {schema: ParseReceiptInputSchema},\n  output: {schema: ParseReceiptOutputSchema},\n  prompt: `You are an expert receipt parser. First, verify the image is actually a receipt. If it's not a receipt, respond with \"NOT_A_RECEIPT\". Otherwise, extract information with the highest accuracy.\n\n**Pricing Rules:**\n- For each line item, you MUST extract the final total price for that item.\n- If an item lists a quantity and a price-per-unit (e.g., \"3 @ $0.70\"), you MUST calculate the total price (e.g., $2.10). Do not use the unit price as the final price.\n- If a line only shows a single price, use that as the total price for the item.\n\n**Item Description Rules:**\n- For each item, you must provide a 'description'.\n- The description should be a clarified, common name for the item based on the receipt name.\n- If the item name on the receipt is cryptic or abbreviated (e.g., \"HRI CL CHS\"), use your knowledge to provide a more common name (e.g., \"Hillshire Farm Cheddar Cheese\").\n- If the name is already clear and common (e.g., \"Apple\"), just repeat the name for the description.\n- **Important - Handling Quantity and Unit Price:**\n  - If a line item includes details about quantity and unit price, you MUST include this in the description.\n  - **Items by Count:** For items sold by discrete units, use the format \"($<unit_price> each x <quantity>)\". Example: For \"3 SNACK BARS @ $1.50\", the description should include \"($1.50 each x 3)\".\n  - **Items by Weight/Volume:** For items sold by weight (e.g., lb, kg, oz) or volume, use the format \"($<unit_price> per <unit> x <quantity>)\". Example: For \"2.5 lb BANANAS @ $0.50/LB\", the description should include \"($0.50 per lb x 2.5)\".\n- If there is no quantity information, just provide the clarified item name.\n- Your description MUST be confident and MUST NOT end with a question mark.\n\nReceipt Image: {{media url=receiptDataUri}}\n\nReturn the data in JSON format, adhering strictly to the rules above.\n`,\n});\n\nconst parseReceiptFlow = ai.defineFlow(\n  {\n    name: 'parseReceiptFlow',\n    inputSchema: ParseReceiptInputSchema,\n    outputSchema: ParseReceiptOutputSchema,\n  },\n  async input => {\n    const {output} = await parseReceiptPrompt(input);\n    \n    if (typeof output === 'string' && output === 'NOT_A_RECEIPT') {\n      throw new Error('The uploaded image is not a receipt. Please upload a clear photo of a receipt.');\n    }\n    \n    return output!;\n  }\n);\n"],"names":[],"mappings":";;;;;;IA0CsB,eAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 627, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/itiza/Desktop/SplitSpree/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,qKAAA,CAAA,OAAoB;AAEnC,MAAM,gBAAgB,qKAAA,CAAA,UAAuB;AAE7C,MAAM,eAAe,qKAAA,CAAA,SAAsB;AAE3C,MAAM,cAAc,qKAAA,CAAA,QAAqB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAuB;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,qKAAA,CAAA,QAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,+LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,qKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 778, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/itiza/Desktop/SplitSpree/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,qKAAA,CAAA,OAAoB;AAEnC,MAAM,cAAc,qKAAA,CAAA,QAAqB;AAEzC,MAAM,cAAc,qKAAA,CAAA,QAAqB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,qKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,mTACA;QAED,GAAG,KAAK;;YAER;0BACD,6LAAC,qKAAA,CAAA,OAAoB;gBAAC,OAAO;0BAC3B,cAAA,6LAAC,uNAAA,CAAA,cAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;;AAI7B,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,qCAAuB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAG1C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,iBAA8B;QAC7B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,mNAAA,CAAA,YAAS;YAAC,WAAU;;;;;;;;;;;MAZnB;AAeN,qBAAqB,WAAW,GAAG,qKAAA,CAAA,iBAA8B,CAAC,WAAW;AAE7E,MAAM,uCAAyB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAG5C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,mBAAgC;QAC/B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,uNAAA,CAAA,cAAW;YAAC,WAAU;;;;;;;;;;;MAZrB;AAeN,uBAAuB,WAAW,GAChC,qKAAA,CAAA,mBAAgC,CAAC,WAAW;AAE9C,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACzD,6LAAC,qKAAA,CAAA,SAAsB;kBACrB,cAAA,6LAAC,qKAAA,CAAA,UAAuB;YACtB,KAAK;YACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,ucACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,6LAAC;;;;;8BACD,6LAAC,qKAAA,CAAA,WAAwB;oBACvB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,6LAAC;;;;;;;;;;;;;;;;;AAIP,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,0CAA0C;QACvD,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,qKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,6NACA;QAED,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC,qKAAA,CAAA,gBAA6B;8BAC5B,cAAA,6LAAC,uMAAA,CAAA,QAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAIrB,6LAAC,qKAAA,CAAA,WAAwB;0BAAE;;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,qKAAA,CAAA,OAAoB,CAAC,WAAW;AAEzD,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,YAAyB;QACxB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;QACzC,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG,qKAAA,CAAA,YAAyB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 993, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/itiza/Desktop/SplitSpree/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,oKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1032, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/itiza/Desktop/SplitSpree/src/components/receipt-uploader.tsx"],"sourcesContent":["\n\"use client\";\n\nimport React, { useState } from 'react';\nimport { useApp, useAppDispatch } from '@/lib/store/context';\nimport { parseReceipt, ParseReceiptOutput } from '@/ai/flows/parse-receipt';\nimport { useToast } from '@/hooks/use-toast';\nimport { Button } from './ui/button';\nimport { Upload, Loader2, PartyPopper } from 'lucide-react';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n  DialogFooter,\n} from \"@/components/ui/dialog\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Label } from \"@/components/ui/label\";\n\ninterface ReceiptUploaderProps {\n  isWelcome?: boolean;\n}\n\nconst ReceiptUploader = ({ isWelcome = false }: ReceiptUploaderProps) => {\n  const { users } = useApp();\n  const dispatch = useAppDispatch();\n  const [isLoading, setIsLoading] = useState(false);\n  const { toast } = useToast();\n  const [parsedData, setParsedData] = useState<ParseReceiptOutput | null>(null);\n  const [payerId, setPayerId] = useState<string>(\"\");\n\n  const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    setIsLoading(true);\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = async () => {\n      const receiptDataUri = reader.result as string;\n      try {\n        const result = await parseReceipt({ receiptDataUri });\n        setParsedData(result);\n        if (users.length > 0) {\n          setPayerId(users[0].id);\n        }\n      } catch (error) {\n        console.error(\"Error parsing receipt:\", error);\n        toast({\n          variant: \"destructive\",\n          title: \"Uh oh! Something went wrong.\",\n          description: \"There was a problem parsing your receipt.\",\n        });\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    event.target.value = '';\n  };\n\n  const handleConfirmReceipt = () => {\n    if (parsedData && payerId) {\n      dispatch({ type: 'ADD_RECEIPT', payload: { receiptData: parsedData, payerId } });\n      setParsedData(null);\n      setPayerId(\"\");\n      toast({\n          title: \"Success!\",\n          description: \"Your receipt has been added.\",\n          action: <PartyPopper className=\"text-accent\"/>\n      })\n    }\n  };\n\n  const uploaderId = `receipt-upload-${isWelcome ? 'welcome' : 'button'}`;\n\n  return (\n    <>\n      {isWelcome ? (\n        <label\n          htmlFor={uploaderId}\n          className=\"relative flex items-center justify-center w-full max-w-lg cursor-pointer rounded-lg border-2 border-dashed border-muted-foreground/30 p-12 text-center transition-colors hover:border-primary/70 hover:bg-secondary/20 min-h-[238px]\"\n        >\n          {isLoading ? (\n            <div className=\"flex flex-col items-center justify-center gap-4\">\n                <div className=\"flex items-center justify-center space-x-2 h-12\">\n                    <div className=\"h-full w-2 bg-primary rounded-full animate-scanner-bar\" style={{ animationDelay: '-1.0s' }}></div>\n                    <div className=\"h-full w-2 bg-primary rounded-full animate-scanner-bar\" style={{ animationDelay: '-0.8s' }}></div>\n                    <div className=\"h-full w-2 bg-primary rounded-full animate-scanner-bar\" style={{ animationDelay: '-0.6s' }}></div>\n                    <div className=\"h-full w-2 bg-primary rounded-full animate-scanner-bar\" style={{ animationDelay: '-0.4s' }}></div>\n                    <div className=\"h-full w-2 bg-primary rounded-full animate-scanner-bar\" style={{ animationDelay: '0s' }}></div>\n                </div>\n                <p className=\"text-xl font-medium\">Analyzing Receipt...</p>\n                <p className=\"text-muted-foreground\">The AI is hard at work.</p>\n            </div>\n          ) : (\n            <div className=\"flex flex-col items-center gap-4\">\n              <Upload className=\"h-12 w-12 text-muted-foreground\" />\n              <div className=\"text-center\">\n                <p className=\"text-xl font-medium\">Welcome!</p>\n                <p className=\"text-muted-foreground\">Click or drag a receipt image here to get started.</p>\n              </div>\n            </div>\n          )}\n        </label>\n      ) : (\n        <div className=\"relative\">\n          <Button asChild variant=\"outline\" className=\"w-full\">\n            <label htmlFor={uploaderId} className=\"cursor-pointer\">\n              {isLoading ? (\n                <>\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                  Processing...\n                </>\n              ) : (\n                <>\n                  <Upload className=\"mr-2 h-4 w-4\" />\n                  <span className=\"sm:hidden\">Upload</span>\n                  <span className=\"hidden sm:inline\">Upload Another Receipt</span>\n                </>\n              )}\n            </label>\n          </Button>\n        </div>\n      )}\n\n      <input id={uploaderId} type=\"file\" accept=\"image/png, image/jpeg\" className=\"sr-only\" onChange={handleFileUpload} disabled={isLoading} />\n\n      <Dialog open={!!parsedData} onOpenChange={() => setParsedData(null)}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Confirm Receipt Details</DialogTitle>\n            <DialogDescription>\n              AI has parsed your receipt. Please select who paid for this bill.\n            </DialogDescription>\n          </DialogHeader>\n          {parsedData && (\n            <div className=\"space-y-4 py-4\">\n                <div className=\"flex justify-between items-center\">\n                    <span className=\"font-medium\">Store:</span>\n                    <span>{parsedData.storeName}</span>\n                </div>\n                 <div className=\"flex justify-between items-center\">\n                    <span className=\"font-medium\">Total:</span>\n                    <span className=\"font-bold\">${parsedData.total.toFixed(2)}</span>\n                </div>\n              <div className=\"grid gap-3\">\n                <Label htmlFor=\"payer-select\">Who paid?</Label>\n                <Select value={payerId} onValueChange={setPayerId}>\n                  <SelectTrigger id=\"payer-select\">\n                    <SelectValue placeholder=\"Select a person\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {users.map(user => (\n                      <SelectItem key={user.id} value={user.id}>{user.name}</SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n          )}\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setParsedData(null)}>Cancel</Button>\n            <Button onClick={handleConfirmReceipt} disabled={!payerId}>Add Receipt</Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n};\n\nexport default ReceiptUploader;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1531, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/itiza/Desktop/SplitSpree/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI/B,CACE,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,6LAAC,wKAAA,CAAA,OAAuB;QACtB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG,wKAAA,CAAA,OAAuB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1569, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/itiza/Desktop/SplitSpree/src/components/ui/avatar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;;AAGb,OAAO,WAAW,GAAG,qKAAA,CAAA,OAAoB,CAAC,WAAW;AAErD,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,+BAA+B;QAC5C,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,WAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,wEACA;QAED,GAAG,KAAK;;;;;;;AAGb,eAAe,WAAW,GAAG,qKAAA,CAAA,WAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1633, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/itiza/Desktop/SplitSpree/src/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,kBAAkB,sKAAA,CAAA,WAAyB;AAEjD,MAAM,UAAU,sKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,sKAAA,CAAA,UAAwB;AAE/C,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGpC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC1C,6LAAC,sKAAA,CAAA,UAAwB;QACvB,KAAK;QACL,YAAY;QACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sYACA;QAED,GAAG,KAAK;;;;;;;AAGb,eAAe,WAAW,GAAG,sKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1676, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/itiza/Desktop/SplitSpree/src/components/item-card.tsx"],"sourcesContent":["\"use client\";\n\nimport React from 'react';\nimport { useDraggable } from '@dnd-kit/core';\nimport { useApp, useAppDispatch } from '@/lib/store/context';\nimport { cn } from '@/lib/utils';\nimport { Avatar, AvatarFallback } from './ui/avatar';\nimport { X, Split } from 'lucide-react';\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from './ui/tooltip';\nimport { Button } from './ui/button';\n\ninterface ItemCardProps {\n  itemId: string;\n  isOverlay?: boolean;\n}\n\nconst ItemCard = ({ itemId, isOverlay = false }: ItemCardProps) => {\n  const { items, users } = useApp();\n  const dispatch = useAppDispatch();\n  const item = items[itemId];\n\n  const { attributes, listeners, setNodeRef, transform, isDragging } = useDraggable({\n    id: `item-${itemId}`,\n    data: { itemId, type: 'item' },\n  });\n  \n  const style = isOverlay && transform ? {\n    transform: `translate3d(${transform.x}px, ${transform.y}px, 0)`,\n  } : undefined;\n  \n  const assignedUsers = item?.userIds.map(uid => users.find(u => u.id === uid)).filter(Boolean) as { id: string, name: string }[];\n\n  if (!item) return null;\n  \n  const isClaimed = assignedUsers.length > 0;\n  const pricePerPerson = isClaimed ? item.price / assignedUsers.length : item.price;\n  const showDescription = item.description && item.description.toLowerCase() !== item.name.toLowerCase();\n\n  const handleUnassign = (e: React.MouseEvent, userId: string) => {\n      e.stopPropagation(); \n      dispatch({ type: 'UNASSIGN_ITEM', payload: { itemId, userId } });\n  }\n\n  const handleSplitWithEveryone = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    const allUserIds = users.map(u => u.id);\n    dispatch({ type: 'SET_ITEM_ASSIGNEES', payload: { itemId, userIds: allUserIds } });\n  }\n\n  return (\n    <div\n      ref={setNodeRef}\n      style={style}\n      {...listeners}\n      {...attributes}\n      className={cn(\n        \"group flex flex-col p-3 rounded-lg transition-all border bg-card/90\",\n        !isOverlay && \"touch-none cursor-grab active:cursor-grabbing\",\n        isDragging && !isOverlay && \"opacity-30\",\n        isOverlay && \"shadow-2xl cursor-grabbing\",\n        !isClaimed && !isOverlay && 'hover:bg-secondary/30'\n      )}\n    >\n        <div className=\"flex items-start justify-between w-full gap-2\">\n            <div className=\"flex-grow min-w-[120px]\">\n              <p className=\"font-medium break-keep hyphens-auto\">{item.name}</p>\n              {showDescription && <p className=\"text-xs text-muted-foreground break-keep hyphens-auto\">{item.description}</p>}\n              <div className=\"flex items-center gap-2 mt-1\">\n                <span className={cn(\"font-mono text-base\", isClaimed && 'line-through text-muted-foreground')}>\n                  ${item.price.toFixed(2)}\n                </span>\n              </div>\n            </div>\n            \n            <TooltipProvider>\n              <Tooltip>\n                <TooltipTrigger asChild>\n                  <Button variant=\"secondary\" size=\"icon\" className=\"h-7 w-7 flex-shrink-0\" onClick={handleSplitWithEveryone} onMouseDown={(e) => e.stopPropagation()} onPointerDown={(e) => e.stopPropagation()}>\n                    <Split className=\"h-4 w-4\" />\n                  </Button>\n                </TooltipTrigger>\n                <TooltipContent>\n                  <p>Divide equally among all</p>\n                </TooltipContent>\n              </Tooltip>\n            </TooltipProvider>\n\n        </div>\n\n        {isClaimed && (\n            <div className=\"mt-2 pt-2 border-t flex flex-wrap items-center gap-x-3 gap-y-2\">\n                <div className=\"text-xs font-semibold\">${pricePerPerson.toFixed(2)}/person for:</div>\n                <TooltipProvider>\n                    <div className=\"flex flex-wrap items-center gap-1\">\n                    {assignedUsers.map(user => (\n                        <Tooltip key={user.id} delayDuration={100}>\n                            <TooltipTrigger asChild>\n                                <div className=\"relative group/avatar\">\n                                    <Avatar className=\"h-7 w-7 border-2 border-background\">\n                                        <AvatarFallback className=\"text-xs bg-secondary text-secondary-foreground font-semibold\">\n                                            {user.name.charAt(0).toUpperCase()}\n                                        </AvatarFallback>\n                                    </Avatar>\n                                     <button \n                                        onClick={(e) => handleUnassign(e, user.id)} \n                                        onMouseDown={(e) => e.stopPropagation()}\n                                        onPointerDown={(e) => e.stopPropagation()}\n                                        className=\"absolute -top-1 -right-1 bg-destructive text-destructive-foreground rounded-full h-5 w-5 flex items-center justify-center\"\n                                        aria-label={`Remove ${user.name}`}\n                                    >\n                                        <X className=\"h-3 w-3\" />\n                                    </button>\n                                </div>\n                            </TooltipTrigger>\n                            <TooltipContent>\n                                <p>{user.name}</p>\n                            </TooltipContent>\n                        </Tooltip>\n                    ))}\n                    </div>\n                </TooltipProvider>\n            </div>\n        )}\n    </div>\n  );\n};\n\nexport default ItemCard;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1983, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/itiza/Desktop/SplitSpree/src/components/receipt-card.tsx"],"sourcesContent":["\"use client\";\n\nimport React from 'react';\nimport { useApp } from '@/lib/store/context';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription, CardFooter } from './ui/card';\nimport { Separator } from './ui/separator';\nimport ItemCard from './item-card';\nimport { format, parseISO } from 'date-fns';\n\ninterface ReceiptCardProps {\n  receiptId: string;\n}\n\nconst ReceiptCard = ({ receiptId }: ReceiptCardProps) => {\n  const { receipts, items, users } = useApp();\n  const receipt = receipts[receiptId];\n\n  if (!receipt) return null;\n\n  const payer = users.find(u => u.id === receipt.payerId);\n\n  const formatDate = (dateString: string) => {\n    try {\n      const date = parseISO(dateString);\n      return format(date, 'MMMM d, yyyy');\n    } catch (e) {\n      return dateString;\n    }\n  };\n\n  return (\n    <Card className=\"shadow-lg border-border/60 bg-card/60\">\n      <CardHeader>\n        <div className=\"flex justify-between items-start gap-4\">\n            <div className=\"min-w-0\">\n                <CardTitle className=\"font-headline text-xl truncate\">{receipt.storeName}</CardTitle>\n                <CardDescription>{formatDate(receipt.date)}</CardDescription>\n            </div>\n            {payer && <CardDescription className=\"text-xs text-right flex-shrink-0\">Paid by: {payer.name}</CardDescription>}\n        </div>\n      </CardHeader>\n      <CardContent className=\"px-3 sm:px-6\">\n        <div className=\"space-y-3\">\n            {receipt.itemIds.map(itemId => (\n                <ItemCard key={itemId} itemId={itemId} />\n            ))}\n        </div>\n      </CardContent>\n      <CardFooter className=\"flex flex-col items-end gap-1 text-sm text-muted-foreground px-3 sm:px-6\">\n        <div className=\"flex justify-between w-full max-w-xs\">\n            <span>Subtotal</span>\n            <span className=\"font-mono\">${receipt.subtotal.toFixed(2)}</span>\n        </div>\n        <div className=\"flex justify-between w-full max-w-xs\">\n            <span>Tax</span>\n            <span className=\"font-mono\">${receipt.tax.toFixed(2)}</span>\n        </div>\n        <div className=\"flex justify-between w-full max-w-xs\">\n            <span>Tip</span>\n            <span className=\"font-mono\">${receipt.tip.toFixed(2)}</span>\n        </div>\n        <Separator className=\"my-2 w-full max-w-xs\" />\n        <div className=\"flex justify-between w-full max-w-xs font-bold text-base text-foreground\">\n            <span>Total</span>\n            <span className=\"font-mono\">${receipt.total.toFixed(2)}</span>\n        </div>\n      </CardFooter>\n    </Card>\n  );\n};\n\nexport default ReceiptCard;\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AACA;AAAA;;;AAPA;;;;;;AAaA,MAAM,cAAc,CAAC,EAAE,SAAS,EAAoB;;IAClD,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,kIAAA,CAAA,SAAM,AAAD;IACxC,MAAM,UAAU,QAAQ,CAAC,UAAU;IAEnC,IAAI,CAAC,SAAS,OAAO;IAErB,MAAM,QAAQ,MAAM,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,QAAQ,OAAO;IAEtD,MAAM,aAAa,CAAC;QAClB,IAAI;YACF,MAAM,OAAO,CAAA,GAAA,2IAAA,CAAA,WAAQ,AAAD,EAAE;YACtB,OAAO,CAAA,GAAA,yJAAA,CAAA,SAAM,AAAD,EAAE,MAAM;QACtB,EAAE,OAAO,GAAG;YACV,OAAO;QACT;IACF;IAEA,qBACE,6LAAC,mIAAA,CAAA,OAAI;QAAC,WAAU;;0BACd,6LAAC,mIAAA,CAAA,aAAU;0BACT,cAAA,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAI,WAAU;;8CACX,6LAAC,mIAAA,CAAA,YAAS;oCAAC,WAAU;8CAAkC,QAAQ,SAAS;;;;;;8CACxE,6LAAC,mIAAA,CAAA,kBAAe;8CAAE,WAAW,QAAQ,IAAI;;;;;;;;;;;;wBAE5C,uBAAS,6LAAC,mIAAA,CAAA,kBAAe;4BAAC,WAAU;;gCAAmC;gCAAU,MAAM,IAAI;;;;;;;;;;;;;;;;;;0BAGlG,6LAAC,mIAAA,CAAA,cAAW;gBAAC,WAAU;0BACrB,cAAA,6LAAC;oBAAI,WAAU;8BACV,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAA,uBACjB,6LAAC,qIAAA,CAAA,UAAQ;4BAAc,QAAQ;2BAAhB;;;;;;;;;;;;;;;0BAIzB,6LAAC,mIAAA,CAAA,aAAU;gBAAC,WAAU;;kCACpB,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;0CAAK;;;;;;0CACN,6LAAC;gCAAK,WAAU;;oCAAY;oCAAE,QAAQ,QAAQ,CAAC,OAAO,CAAC;;;;;;;;;;;;;kCAE3D,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;0CAAK;;;;;;0CACN,6LAAC;gCAAK,WAAU;;oCAAY;oCAAE,QAAQ,GAAG,CAAC,OAAO,CAAC;;;;;;;;;;;;;kCAEtD,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;0CAAK;;;;;;0CACN,6LAAC;gCAAK,WAAU;;oCAAY;oCAAE,QAAQ,GAAG,CAAC,OAAO,CAAC;;;;;;;;;;;;;kCAEtD,6LAAC,wIAAA,CAAA,YAAS;wBAAC,WAAU;;;;;;kCACrB,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;0CAAK;;;;;;0CACN,6LAAC;gCAAK,WAAU;;oCAAY;oCAAE,QAAQ,KAAK,CAAC,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;AAKhE;GAxDM;;QAC+B,kIAAA,CAAA,SAAM;;;KADrC;uCA0DS","debugId":null}},
    {"offset": {"line": 2238, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/itiza/Desktop/SplitSpree/src/components/receipts-display.tsx"],"sourcesContent":["\n\"use client\";\n\nimport React from 'react';\nimport { useApp } from '@/lib/store/context';\nimport ReceiptUploader from './receipt-uploader';\nimport ReceiptCard from './receipt-card';\nimport { ScrollArea } from './ui/scroll-area';\n\nconst ReceiptsDisplay = () => {\n  const { receipts } = useApp();\n  const receiptIds = Object.keys(receipts);\n\n  return (\n    <div className=\"flex flex-col gap-6 h-full\">\n        <div className=\"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between\">\n            <h2 className=\"text-2xl sm:text-3xl font-headline font-semibold flex-shrink-0\">Receipts</h2>\n            {receiptIds.length > 0 && (\n                <div className=\"w-full sm:w-auto flex-shrink-0\">\n                    <ReceiptUploader />\n                </div>\n            )}\n        </div>\n        {receiptIds.length > 0 ? (\n            <div className=\"space-y-6\">\n                {receiptIds.map(id => (\n                    <ReceiptCard key={id} receiptId={id} />\n                ))}\n            </div>\n        ) : (\n            <div className=\"flex-grow flex items-center justify-center\">\n                <ReceiptUploader isWelcome={true} />\n            </div>\n        )}\n    </div>\n  );\n};\n\nexport default ReceiptsDisplay;\n"],"names":[],"mappings":";;;;AAIA;AACA;AACA;;;AALA;;;;AAQA,MAAM,kBAAkB;;IACtB,MAAM,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,kIAAA,CAAA,SAAM,AAAD;IAC1B,MAAM,aAAa,OAAO,IAAI,CAAC;IAE/B,qBACE,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAG,WAAU;kCAAiE;;;;;;oBAC9E,WAAW,MAAM,GAAG,mBACjB,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC,4IAAA,CAAA,UAAe;;;;;;;;;;;;;;;;YAI3B,WAAW,MAAM,GAAG,kBACjB,6LAAC;gBAAI,WAAU;0BACV,WAAW,GAAG,CAAC,CAAA,mBACZ,6LAAC,wIAAA,CAAA,UAAW;wBAAU,WAAW;uBAAf;;;;;;;;;qCAI1B,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC,4IAAA,CAAA,UAAe;oBAAC,WAAW;;;;;;;;;;;;;;;;;AAK5C;GA3BM;;QACiB,kIAAA,CAAA,SAAM;;;KADvB;uCA6BS","debugId":null}},
    {"offset": {"line": 2339, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/itiza/Desktop/SplitSpree/src/components/user-card.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useMemo } from 'react';\nimport { useDroppable } from '@dnd-kit/core';\nimport { useApp } from '@/lib/store/context';\nimport { Avatar, AvatarFallback } from './ui/avatar';\nimport { cn } from '@/lib/utils';\nimport { Card, CardContent } from './ui/card';\n\ninterface UserCardProps {\n  userId: string;\n}\n\nconst UserCard = ({ userId }: UserCardProps) => {\n  const { setNodeRef, isOver } = useDroppable({\n    id: `user-${userId}`,\n    data: { userId },\n  });\n  \n  const { users, items, receipts } = useApp();\n  const user = users.find(u => u.id === userId);\n\n  const { totalOwed, totalPaid } = useMemo(() => {\n    const myItems = Object.values(items).filter(item => item.userIds.includes(userId));\n    \n    const myPaid = Object.values(receipts)\n        .filter(r => r.payerId === userId)\n        .reduce((sum, r) => sum + r.total, 0);\n        \n    const myOwed = myItems.reduce((total, item) => {\n        const splitCount = item.userIds.length || 1;\n        const itemShare = item.price / splitCount;\n        \n        const receipt = receipts[item.receiptId];\n        if (!receipt) return total + itemShare;\n\n        const receiptSubtotal = receipt.itemIds\n            .map(id => items[id]?.price || 0)\n            .reduce((sum, price) => sum + price, 0);\n\n        if (receiptSubtotal > 0) {\n            const taxAndTipRatio = (receipt.tax + receipt.tip) / receiptSubtotal;\n            const itemTaxAndTip = item.price * taxAndTipRatio;\n            const proportionalShare = itemTaxAndTip / splitCount;\n            return total + itemShare + proportionalShare;\n        }\n        \n        return total + itemShare;\n    }, 0);\n\n    return { \n        totalOwed: myOwed,\n        totalPaid: myPaid\n    };\n  }, [userId, items, receipts]);\n\n  if (!user) return null;\n  \n  const balance = totalPaid - totalOwed;\n\n  return (\n    <Card \n        ref={setNodeRef}\n        className={cn(\n            'bg-card/80 border-border/80 transition-all', \n            isOver ? 'ring-2 ring-primary ring-offset-2 ring-offset-background shadow-2xl' : 'hover:bg-card/100',\n        )}\n    >\n        <CardContent className=\"p-3\">\n            <div className=\"flex flex-col items-center text-center gap-2\">\n                <Avatar className=\"h-12 w-12 text-lg\">\n                    <AvatarFallback className=\"bg-secondary text-secondary-foreground font-bold\">\n                        {user.name.charAt(0).toUpperCase()}\n                    </AvatarFallback>\n                </Avatar>\n                <div className=\"w-full\">\n                    <p className=\"font-semibold text-foreground break-words\">{user.name}</p>\n                </div>\n                <div className=\"text-right flex-shrink-0\">\n                    <div className={cn(\"font-bold text-base\", balance >= 0 ? 'text-success' : 'text-destructive')}>\n                        ${Math.abs(balance).toFixed(2)}\n                    </div>\n                    <div className=\"text-xs text-muted-foreground\">\n                        {balance >= 0 ? 'Credit' : 'Owes'}\n                    </div>\n                </div>\n            </div>\n        </CardContent>\n    </Card>\n  );\n};\n\nexport default UserCard;\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AAaA,MAAM,WAAW,CAAC,EAAE,MAAM,EAAiB;;IACzC,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,8JAAA,CAAA,eAAY,AAAD,EAAE;QAC1C,IAAI,CAAC,KAAK,EAAE,QAAQ;QACpB,MAAM;YAAE;QAAO;IACjB;IAEA,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,kIAAA,CAAA,SAAM,AAAD;IACxC,MAAM,OAAO,MAAM,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;IAEtC,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;4BAAE;YACvC,MAAM,UAAU,OAAO,MAAM,CAAC,OAAO,MAAM;4CAAC,CAAA,OAAQ,KAAK,OAAO,CAAC,QAAQ,CAAC;;YAE1E,MAAM,SAAS,OAAO,MAAM,CAAC,UACxB,MAAM;2CAAC,CAAA,IAAK,EAAE,OAAO,KAAK;0CAC1B,MAAM;2CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,KAAK;0CAAE;YAEvC,MAAM,SAAS,QAAQ,MAAM;2CAAC,CAAC,OAAO;oBAClC,MAAM,aAAa,KAAK,OAAO,CAAC,MAAM,IAAI;oBAC1C,MAAM,YAAY,KAAK,KAAK,GAAG;oBAE/B,MAAM,UAAU,QAAQ,CAAC,KAAK,SAAS,CAAC;oBACxC,IAAI,CAAC,SAAS,OAAO,QAAQ;oBAE7B,MAAM,kBAAkB,QAAQ,OAAO,CAClC,GAAG;mEAAC,CAAA,KAAM,KAAK,CAAC,GAAG,EAAE,SAAS;kEAC9B,MAAM;mEAAC,CAAC,KAAK,QAAU,MAAM;kEAAO;oBAEzC,IAAI,kBAAkB,GAAG;wBACrB,MAAM,iBAAiB,CAAC,QAAQ,GAAG,GAAG,QAAQ,GAAG,IAAI;wBACrD,MAAM,gBAAgB,KAAK,KAAK,GAAG;wBACnC,MAAM,oBAAoB,gBAAgB;wBAC1C,OAAO,QAAQ,YAAY;oBAC/B;oBAEA,OAAO,QAAQ;gBACnB;0CAAG;YAEH,OAAO;gBACH,WAAW;gBACX,WAAW;YACf;QACF;2BAAG;QAAC;QAAQ;QAAO;KAAS;IAE5B,IAAI,CAAC,MAAM,OAAO;IAElB,MAAM,UAAU,YAAY;IAE5B,qBACE,6LAAC,mIAAA,CAAA,OAAI;QACD,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACR,8CACA,SAAS,wEAAwE;kBAGrF,cAAA,6LAAC,mIAAA,CAAA,cAAW;YAAC,WAAU;sBACnB,cAAA,6LAAC;gBAAI,WAAU;;kCACX,6LAAC,qIAAA,CAAA,SAAM;wBAAC,WAAU;kCACd,cAAA,6LAAC,qIAAA,CAAA,iBAAc;4BAAC,WAAU;sCACrB,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,WAAW;;;;;;;;;;;kCAGxC,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC;4BAAE,WAAU;sCAA6C,KAAK,IAAI;;;;;;;;;;;kCAEvE,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,uBAAuB,WAAW,IAAI,iBAAiB;;oCAAqB;oCACzF,KAAK,GAAG,CAAC,SAAS,OAAO,CAAC;;;;;;;0CAEhC,6LAAC;gCAAI,WAAU;0CACV,WAAW,IAAI,WAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOnD;GA7EM;;QAC2B,8JAAA,CAAA,eAAY;QAKR,kIAAA,CAAA,SAAM;;;KANrC;uCA+ES","debugId":null}},
    {"offset": {"line": 2512, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/itiza/Desktop/SplitSpree/src/components/user-breakdown.tsx"],"sourcesContent":["\"use client\";\n\nimport React from 'react';\nimport { useApp } from '@/lib/store/context';\nimport UserCard from './user-card';\n\nconst UserBreakdown = () => {\n  const { users } = useApp();\n\n  return (\n    <div className=\"flex flex-col h-full\">\n      <div className=\"p-4 border-b sticky top-0 bg-background/80 backdrop-blur-sm z-10\">\n        <h2 className=\"text-lg font-headline font-semibold text-center\">Who Owes What</h2>\n      </div>\n      <div className=\"flex-grow p-2 space-y-2\">\n        {users.map(user => (\n          <UserCard key={user.id} userId={user.id} />\n        ))}\n        {users.length === 0 && (\n          <div className=\"text-center text-muted-foreground p-8\">No users have been added yet.</div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default UserBreakdown;\n"],"names":[],"mappings":";;;;AAGA;AACA;;;AAJA;;;AAMA,MAAM,gBAAgB;;IACpB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,kIAAA,CAAA,SAAM,AAAD;IAEvB,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAG,WAAU;8BAAkD;;;;;;;;;;;0BAElE,6LAAC;gBAAI,WAAU;;oBACZ,MAAM,GAAG,CAAC,CAAA,qBACT,6LAAC,qIAAA,CAAA,UAAQ;4BAAe,QAAQ,KAAK,EAAE;2BAAxB,KAAK,EAAE;;;;;oBAEvB,MAAM,MAAM,KAAK,mBAChB,6LAAC;wBAAI,WAAU;kCAAwC;;;;;;;;;;;;;;;;;;AAKjE;GAlBM;;QACc,kIAAA,CAAA,SAAM;;;KADpB;uCAoBS","debugId":null}},
    {"offset": {"line": 2593, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/itiza/Desktop/SplitSpree/src/ai/flows/ai-chat-assistant.ts"],"sourcesContent":["'use server';\n\n/**\n * @fileOverview An AI chat assistant for bill splitting.\n *\n * - aiChatAssistant - A function that handles the chat assistant logic.\n * - AIChatAssistantInput - The input type for the aiChatAssistant function.\n * - AIChatAssistantOutput - The return type for the aiChatAssistant function.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\n\nconst AIChatAssistantInputSchema = z.object({\n  command: z.string().describe('The command from the user.'),\n  users: z.string().describe('JSON string of all users in the session, including their IDs and names.'),\n  items: z.string().describe('JSON string of all items from all receipts, including their IDs, names, and prices.')\n});\nexport type AIChatAssistantInput = z.infer<typeof AIChatAssistantInputSchema>;\n\nconst ActionSchema = z.object({\n  type: z.enum(['SET_ITEM_ASSIGNEES', 'SET_ITEM_PRICE']),\n  payload: z.object({\n    itemId: z.string(),\n    userIds: z.array(z.string()).optional(),\n    price: z.number().optional(),\n  }),\n});\n\nconst AIChatAssistantOutputSchema = z.object({\n  response: z.string().describe('The text response from the AI chat assistant.'),\n  actionToConfirm: ActionSchema.optional().describe('An action that the user needs to confirm before it is executed.'),\n});\nexport type AIChatAssistantOutput = z.infer<typeof AIChatAssistantOutputSchema>;\n\nexport async function aiChatAssistant(input: AIChatAssistantInput): Promise<AIChatAssistantOutput> {\n  return aiChatAssistantFlow(input);\n}\n\nconst prompt = ai.definePrompt({\n  name: 'aiChatAssistantPrompt',\n  input: {schema: AIChatAssistantInputSchema},\n  output: {schema: AIChatAssistantOutputSchema},\n  prompt: `You are a powerful AI chat assistant for a bill splitting application. Your job is to help users manage receipt items, including assigning items to users and correcting item prices. You must be helpful, accurate, and handle all situations gracefully. Do not use emojis.\n\nYou have the following context:\n- Users in the session: {{{users}}}\n- Items available to be assigned (with their current prices): {{{items}}}\n\n**Your Main Tasks:**\nYou can perform two types of actions: \\`SET_ITEM_ASSIGNEES\\` and \\`SET_ITEM_PRICE\\`.\nFor any action, you MUST generate a response that is a question to the user confirming the action you are about to take.\nYou MUST populate the \\`actionToConfirm\\` field with the corresponding action object.\n\n---\n\n**1. Assigning Items to Users (\\`SET_ITEM_ASSIGNEES\\`)**\n\n*   **Goal:** Determine the final list of users an item should be assigned to.\n*   **User Commands:** \"Split the pizza with me and Jane\", \"I had the burger\", \"Everyone shared the fries\", \"Nobody had the soda.\"\n*   **Action Details:**\n    *   \\`type\\`: Must be \\`SET_ITEM_ASSIGNEES\\`.\n    *   \\`payload.itemId\\`: The ID of the item being assigned.\n    *   \\`payload.userIds\\`: An array of user IDs. This can be empty to unassign an item.\n    *   \\`payload.price\\`: This field should NOT be included for this action.\n*   **Example:**\n    *   User: \"Split the Large Pizza between me and Maria.\"\n    *   Confirmation: \"Split 'Large Pizza' between you and Maria?\"\n    -   Action: { \"type\": \"SET_ITEM_ASSIGNEES\", \"payload\": { \"itemId\": \"pizza-id\", \"userIds\": [\"your-id\", \"maria-id\"] } }\n\n---\n\n**2. Correcting Item Prices (\\`SET_ITEM_PRICE\\`)**\n\n*   **Goal:** Update the price of a specific item.\n*   **User Commands:** \"The price for the burger was actually $15.50\", \"Change the tater tots to be 2.10\", \"Correct the price of the soda to 1.99.\"\n*   **Action Details:**\n    *   \\`type\\`: Must be \\`SET_ITEM_PRICE\\`.\n    *   \\`payload.itemId\\`: The ID of the item being updated.\n    *   \\`payload.price\\`: The new numerical price for the item.\n    *   \\`payload.userIds\\`: This field should NOT be included for this action.\n*   **Example:**\n    *   User: \"The price for the burger was wrong, it should be 12.50\"\n    *   Confirmation: \"Update the price of 'Burger' to $12.50?\"\n    -   Action: { \"type\": \"SET_ITEM_PRICE\", \"payload\": { \"itemId\": \"burger-id\", \"price\": 12.50 } }\n\n---\n\n**Critical Rules & Edge Cases:**\n\n1.  **Confidence:** Only generate an \\`actionToConfirm\\` if you are confident you can perform the requested action. In all other cases, provide a helpful text response explaining the situation.\n\n2.  **No Items to Assign/Edit:**\n    -   **Condition:** The \\`items\\` list is empty (\\`[]\\`).\n    -   **Action:** Do NOT generate an \\`actionToConfirm\\`. Respond by telling the user they need to add items first.\n    -   **Example Response:** \"It looks like there are no items to assign or edit yet. Please upload a receipt to get started.\"\n\n3.  **Item Not Found:**\n    -   **Condition:** The user refers to an item not present in the \\`items\\` list.\n    -   **Action:** Do NOT generate an \\`actionToConfirm\\`. Ask the user to clarify which item they mean, maybe suggesting available items.\n    -   **Example Response:** \"I couldn't find an item named 'pasta'. Available items are: Burger, Fries, and Salad. Which one did you mean?\"\n\n4.  **User Not Found (for assignment):**\n    -   **Condition:** The user refers to a person not present in the \\`users\\` list when trying to assign an item.\n    -   **Action:** Do NOT generate an \\`actionToConfirm\\`. Inform the user that the person isn't in the session and list the available users.\n    -   **Example Response:** \"I couldn't find 'Mike' in the current session. The current users are: John, Jane, and Alex. Who should I assign the item to?\"\n\n5.  **Ambiguous or Incomplete Commands:**\n    -   **Condition:** The user's command is vague (e.g., \"split that\", \"change the price\", \"assign the burger\" without specifying who).\n    -   **Action:** Do NOT generate an \\`actionToConfirm\\`. Ask for the missing information.\n    -   **Example Response (for \"assign the burger\"):** \"Who should I assign the 'Burger' to?\"\n    -   **Example Response (for \"change the price\"):** \"Which item's price should I change, and what should the new price be?\"\n\n6.  **General Questions/Conversation:**\n    -   **Condition:** The user asks a question or makes a statement not related to item assignment or price correction.\n    -   **Action:** Do NOT generate an \\`actionToConfirm\\`. Provide a polite, general response.\n    -   **Example Response:** \"I can help with splitting receipt items and correcting prices. How can I assist you?\"\n\n\nNow, respond to the following command, paying close attention to all the rules above:\n{{{command}}}\n`,\n});\n\nconst aiChatAssistantFlow = ai.defineFlow(\n  {\n    name: 'aiChatAssistantFlow',\n    inputSchema: AIChatAssistantInputSchema,\n    outputSchema: AIChatAssistantOutputSchema,\n  },\n  async input => {\n    const {output} = await prompt(input);\n    return output!;\n  }\n);\n"],"names":[],"mappings":";;;;;;IAmCsB,kBAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 2609, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/itiza/Desktop/SplitSpree/src/components/ui/receipt-chat-icon.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport const ReceiptChatIcon = ({ className }: { className?: string }) => {\n  return (\n    <div\n      className={cn(\n        \"flex items-center justify-center w-10 h-10 rounded-full bg-yellow-400 text-black shadow-md\",\n        className\n      )}\n    >\n      <div className=\"relative flex items-center justify-center w-7 h-7 rounded-md bg-[#0e0e10] shadow-inner\">\n        <span className=\"text-[10px] font-medium tracking-wide text-yellow-400\">\n          AI \n        </span>\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;AAGA;AAHA;;;AAKO,MAAM,kBAAkB,CAAC,EAAE,SAAS,EAA0B;IACnE,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8FACA;kBAGF,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAK,WAAU;0BAAwD;;;;;;;;;;;;;;;;AAMhF;KAfa","debugId":null}},
    {"offset": {"line": 2653, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/itiza/Desktop/SplitSpree/src/components/ai-chat.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useApp, useAppDispatch } from '@/lib/store/context';\nimport { aiChatAssistant } from '@/ai/flows/ai-chat-assistant';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Send, User, Loader2, X } from 'lucide-react';\nimport { ReceiptChatIcon } from './ui/receipt-chat-icon';\nimport { useToast } from '@/hooks/use-toast';\nimport { cn } from '@/lib/utils';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\nimport type { Action } from '@/lib/store/types';\n\ninterface Message {\n  id: string;\n  role: 'user' | 'assistant';\n  content: string;\n  actionToConfirm?: Action;\n}\n\ninterface AiChatProps {\n  onClose: () => void;\n}\n\nconst AiChat = ({ onClose }: AiChatProps) => {\n  const state = useApp();\n  const dispatch = useAppDispatch();\n  const { toast } = useToast();\n  const [isLoading, setIsLoading] = useState(false);\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [input, setInput] = useState('');\n  const scrollAreaRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    // Focus input on component mount\n    if (inputRef.current) {\n        inputRef.current.focus();\n    }\n  }, []);\n\n  useEffect(() => {\n    // Scroll to view the latest message\n    if (scrollAreaRef.current) {\n      scrollAreaRef.current.scrollTo({ top: 0, behavior: 'smooth' });\n    }\n  }, [messages]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!input.trim() || isLoading) return;\n\n    const userMessage: Message = { id: uuidv4(), role: 'user', content: input };\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n    setIsLoading(true);\n\n    try {\n      const { users, items } = state;\n      const relevantItems = JSON.stringify(Object.values(items).map(i => ({id: i.id, name: i.name, price: i.price})));\n      const relevantUsers = JSON.stringify(users.map(u => ({id: u.id, name: u.name})));\n\n      const response = await aiChatAssistant({\n        command: userMessage.content,\n        users: relevantUsers,\n        items: relevantItems,\n      });\n      \n      const assistantMessage: Message = { \n        id: uuidv4(), \n        role: 'assistant', \n        content: response.response, \n        actionToConfirm: response.actionToConfirm as Action | undefined,\n      };\n      setMessages(prev => [...prev, assistantMessage]);\n\n    } catch (error) {\n      console.error(\"AI Chat error:\", error);\n      let errorMessage = 'Could not process the receipt.';\n      if (error instanceof Error && error.message.includes('not a receipt')) {\n        errorMessage = 'The uploaded image is not a valid receipt. Please try again with a clear photo of a receipt.';\n      }\n      toast({\n        variant: 'destructive',\n        title: 'Invalid Receipt',\n        description: errorMessage,\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleConfirmation = (action: Action | undefined, confirmed: boolean) => {\n    if (!action) return;\n    \n    // Remove the confirmation buttons from the message\n    setMessages(prev => prev.map(m => \n      m.actionToConfirm?.type === action.type && \n      'itemId' in m.actionToConfirm.payload && \n      'itemId' in action.payload &&\n      m.actionToConfirm.payload.itemId === action.payload.itemId \n        ? { ...m, actionToConfirm: undefined } \n        : m\n    ));\n\n    if (confirmed) {\n      dispatch(action);\n    }\n  };\n\n  return (\n    <div className=\"fixed bottom-4 left-1/2 -translate-x-1/2 z-50 w-full max-w-lg px-4 pointer-events-none animate-in slide-in-from-bottom-4 fade-in\">\n        <div className=\"flex flex-col-reverse w-full gap-4\">\n            {/* Input Form */}\n            <form \n                onSubmit={handleSubmit} \n                className=\"w-full pointer-events-auto flex items-center gap-2 rounded-full bg-card/80 backdrop-blur-md border border-border/60 p-2 shadow-2xl transition-all focus-within:border-primary/80\"\n            >\n                <Input\n                    ref={inputRef}\n                    value={input}\n                    onChange={(e) => setInput(e.target.value)}\n                    placeholder=\"e.g. Split pizza with me and Jane\"\n                    disabled={isLoading}\n                    className=\"flex-grow bg-transparent border-none focus-visible:ring-0 focus-visible:ring-offset-0 text-base\"\n                />\n                <Button type=\"submit\" size=\"icon\" disabled={isLoading || !input.trim()} className=\"rounded-full flex-shrink-0 w-10 h-10\">\n                    {isLoading ? <Loader2 className=\"animate-spin\" /> : <Send />}\n                </Button>\n                <Button type=\"button\" size=\"icon\" variant=\"ghost\" onClick={onClose} className=\"rounded-full flex-shrink-0 w-10 h-10 hover:bg-secondary/80\">\n                  <X className=\"h-5 w-5\" />\n                  <span className=\"sr-only\">Close chat</span>\n                </Button>\n            </form>\n\n            {/* Messages */}\n            {messages.length > 0 && (\n                 <div ref={scrollAreaRef} className=\"max-h-[40vh] overflow-y-auto pointer-events-auto flex flex-col-reverse\">\n                    <div className=\"space-y-6 p-2\">\n                        {isLoading && messages[messages.length - 1]?.role === 'user' && (\n                            <div className=\"flex justify-start items-center gap-3\">\n                                <Avatar className=\"w-8 h-8 border\">\n                                    <AvatarFallback className=\"bg-primary/10 text-primary\"><ReceiptChatIcon className=\"w-4 h-4\" /></AvatarFallback>\n                                </Avatar>\n                                <Loader2 className=\"w-5 h-5 animate-spin text-muted-foreground\" />\n                            </div>\n                        )}\n                        {messages.map(message => (\n                            <div key={message.id} className={cn(\"flex items-start gap-3 text-sm w-full\", message.role === 'user' ? 'justify-end' : 'justify-start')}>\n                                {message.role === 'assistant' && (\n                                    <Avatar className=\"w-8 h-8 border flex-shrink-0\">\n                                        <AvatarFallback className=\"bg-secondary text-secondary-foreground\"><ReceiptChatIcon className=\"w-4 h-4\" /></AvatarFallback>\n                                    </Avatar>\n                                )}\n                                <div className={cn(\"p-3 rounded-xl max-w-[90%] shadow-md\", \n                                    message.role === 'user' \n                                    ? 'bg-primary text-primary-foreground rounded-br-none' \n                                    : 'bg-card border rounded-bl-none'\n                                )}>\n                                    <p className=\"whitespace-pre-wrap break-words\">{message.content}</p>\n                                    {message.actionToConfirm && (\n                                        <div className=\"flex gap-2 mt-3 border-t pt-3\">\n                                            <Button size=\"sm\" variant=\"default\" onClick={() => handleConfirmation(message.actionToConfirm, true)}>Yes, confirm</Button>\n                                            <Button size=\"sm\" variant=\"secondary\" onClick={() => handleConfirmation(message.actionToConfirm, false)}>Cancel</Button>\n                                        </div>\n                                    )}\n                                </div>\n                                {message.role === 'user' && (\n                                    <Avatar className=\"w-8 h-8 border flex-shrink-0\">\n                                        <AvatarFallback><User className=\"w-4 h-4\" /></AvatarFallback>\n                                    </Avatar>\n                                )}\n                            </div>\n                        ))}\n                    </div>\n                 </div>\n            )}\n        </div>\n    </div>\n  );\n};\n\nexport default AiChat;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3040, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/itiza/Desktop/SplitSpree/src/app/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useMemo } from 'react';\nimport Link from 'next/link';\nimport { useApp, useAppDispatch } from '@/lib/store/context';\nimport AppHeader from '@/components/app-header';\nimport UserSetup from '@/components/user-setup';\nimport ReceiptsDisplay from '@/components/receipts-display';\nimport UserBreakdown from '@/components/user-breakdown';\nimport AiChat from '@/components/ai-chat';\nimport { Button } from '@/components/ui/button';\nimport { ArrowRight } from 'lucide-react';\nimport { ReceiptChatIcon } from '@/components/ui/receipt-chat-icon';\nimport { DndContext, type DragEndEvent, type DragStartEvent, DragOverlay } from '@dnd-kit/core';\nimport ItemCard from '@/components/item-card';\n\nexport default function AppPage() {\n  const { users, items } = useApp();\n  const dispatch = useAppDispatch();\n  const [isChatOpen, setIsChatOpen] = useState(false);\n  const [activeId, setActiveId] = useState<string | null>(null);\n\n  const activeItemId = useMemo(() => {\n    if (!activeId) return null;\n    if (String(activeId).startsWith('item-')) {\n        return String(activeId).replace('item-', '');\n    }\n    return null;\n  }, [activeId]);\n\n  const allItemsAssigned = useMemo(() => {\n    const itemValues = Object.values(items);\n    if (itemValues.length === 0) return false;\n    return itemValues.every(item => item.userIds.length > 0);\n  }, [items]);\n\n  const isInitialSetup = users.length === 0;\n\n  const handleDragStart = (event: DragStartEvent) => {\n    const { active } = event;\n    if (active.data.current?.type === 'item') {\n        setActiveId(active.id as string);\n    }\n  };\n\n  const handleDragEnd = (event: DragEndEvent) => {\n    const { over, active } = event;\n\n    if (over && over.data.current?.userId && active.data.current?.itemId) {\n        const userId = over.data.current.userId as string;\n        const itemId = active.data.current.itemId as string;\n        dispatch({ type: 'ASSIGN_ITEM', payload: { itemId, userId } });\n    }\n    setActiveId(null);\n  }\n\n  const handleDragCancel = () => {\n    setActiveId(null);\n  };\n\n  return (\n    <DndContext onDragStart={handleDragStart} onDragEnd={handleDragEnd} onDragCancel={handleDragCancel}>\n      <div className=\"flex flex-col h-screen bg-gradient-to-br from-background via-background to-muted/20 text-foreground\">\n        <AppHeader />\n        {isInitialSetup ? (\n          <main className=\"flex-grow flex items-center justify-center p-4\">\n              <UserSetup />\n          </main>\n        ) : (\n          <div className=\"flex flex-row flex-grow overflow-hidden\">\n            <main className=\"flex-1 flex flex-col overflow-y-auto p-4 sm:p-6 bg-background/80 backdrop-blur-sm rounded-xl mx-2 my-2 border border-border/30\">\n              <div className=\"flex-grow\">\n                <ReceiptsDisplay />\n              </div>\n              {allItemsAssigned && (\n                <div className=\"sticky bottom-4 z-20 w-full flex justify-center mt-4\">\n                    <Link href=\"/summary\" passHref>\n                        <Button className=\"shadow-2xl hover:shadow-3xl transition-all duration-300 animate-in fade-in zoom-in-95 h-10 text-sm px-3 xs:h-8 xs:text-xs xs:px-2 sm:h-10 sm:text-sm md:h-12 md:text-base\">\n                            Show Final Breakdown\n                            <ArrowRight className=\"ml-2 h-4 w-4 xs:ml-1 xs:h-3 xs:w-3 sm:ml-2 sm:h-4 sm:w-4\" />\n                        </Button>\n                    </Link>\n                </div>\n              )}\n            </main>\n            <aside className=\"flex flex-col w-[140px] md:w-[250px] flex-shrink-0 border-l border-border/50 bg-background/80 backdrop-blur-sm overflow-y-auto\">\n              <UserBreakdown />\n            </aside>\n          </div>\n        )}\n        \n        {!isInitialSetup && !isChatOpen && (\n          <Button\n            onClick={() => setIsChatOpen(true)}\n            size=\"icon\"\n            className=\"fixed bottom-6 right-6 z-40 rounded-full h-16 w-16 shadow-2xl animate-in fade-in zoom-in-95\"\n            aria-label=\"Open AI Chat\"\n          >\n                  <ReceiptChatIcon className=\"h-7 w-7\" />\n          </Button>\n        )}\n        {isChatOpen && <AiChat onClose={() => setIsChatOpen(false)} />}\n      </div>\n      <DragOverlay>\n        {activeItemId ? <ItemCard itemId={activeItemId} isOverlay /> : null}\n      </DragOverlay>\n    </DndContext>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}